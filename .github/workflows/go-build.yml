name: Generate Dep Workflows

on:
  workflow_dispatch: {}
  push:
    branches: [ migrate-dep-builder-to-gha ]

jobs:
  build-go:
    runs-on: ubuntu-18.04
    steps:

    - name: Check out code
      uses: actions/checkout@v2

    - name: Build
      id: build
      uses: ./actions/build-dependency
      with:
        name: go
        version: go1.15.8
        url: "https://golang.org/dl/go1.15.8.src.tar.gz"
        sha256: "540c0ab7781084d124991321ed1458e479982de94454a98afab6acadf38497c2"

    - name: Maybe well get here
      run: |
        echo "Artifact path: ${{ steps.build.outputs.artifact-path }}"
        echo "SHA256: ${{ steps.build.outputs.sha256 }}"
